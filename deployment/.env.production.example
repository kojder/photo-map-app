# Photo Map - Production Environment (.env)
# Docker Compose deployment na Mikrus VPS
# Last Updated: 2025-10-27

################################################################################
# Ports Configuration
################################################################################

# Backend port (internal - Docker network)
BACKEND_PORT=8080

# Frontend port (external - Mikrus proxy)
# Mikrus przydziela 2 porty (format: 201xx, 301xx)
# Sprawd≈∫ w panelu Mikrus: https://mikr.us/panel/
# For marcin288: 20288 (n8n), 30288 (photo-map)
FRONTEND_PORT=30288

################################################################################
# PostgreSQL Configuration (Shared Mikrus Service)
################################################################################

# PostgreSQL credentials z panelu Mikrus
# Panel URL: https://mikr.us/panel/?a=postgres
# Host: psql01.mikr.us (shared service)
# Example for marcin288 (replace with your actual password):

DATABASE_URL=jdbc:postgresql://psql01.mikr.us:5432/db_marcin288
DATABASE_USERNAME=usermarcin288
DATABASE_PASSWORD=YOUR_PASSWORD_FROM_PANEL

################################################################################
# JWT Configuration
################################################################################

# JWT Secret (generate: openssl rand -base64 32)
JWT_SECRET=change_me_generate_secure_secret

# JWT Expiration (default: 86400000 = 24h in milliseconds)
JWT_EXPIRATION=86400000

################################################################################
# Application Configuration
################################################################################

# Spring Profile (production recommended)
SPRING_PROFILES_ACTIVE=production

# Admin Email (for user management)
ADMIN_EMAIL=admin@example.com

################################################################################
# Notes
################################################################################

# 1. PostgreSQL credentials:
#    - Login to https://mikr.us/panel/?a=postgres
#    - Copy: Database name, Username, Password
#    - Paste above

# 2. JWT Secret generation:
#    openssl rand -base64 32

# 3. Frontend Port & Domain:
#    - Shared domain: srv07-30288.wykr.es (automatic)
#    - Custom subdomain: photos.tojest.dev (setup in panel)
#    - Add subdomain in: https://mikr.us/panel/?a=re-domain

# 4. Uploads volume:
#    - Docker volume: photo-map-uploads
#    - Persists across container restarts
#    - Location: /var/lib/docker/volumes/

# 5. Deployment:
#    - Build images locally (./deployment/scripts/build-images.sh)
#    - Transfer to VPS (./deployment/scripts/deploy.sh)
#    - Run docker-compose up -d

################################################################################
